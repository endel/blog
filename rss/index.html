<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title><![CDATA[Endel → Brain#dump()]]></title><description><![CDATA[Software engineering, game development, and random thoughts.]]></description><link>https://blog.endel.me/</link><image><url>https://blog.endel.me/favicon.png</url><title>Endel → Brain#dump()</title><link>https://blog.endel.me/</link></image><generator>Ghost 3.25</generator><lastBuildDate>Mon, 21 Sep 2020 02:06:30 GMT</lastBuildDate><atom:link href="https://blog.endel.me/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[Working Solo: How To Stay Focused and Motivated]]></title><description><![CDATA[<p>This post is for anyone working on a side project, or passion project, and ends up feeling lost or stuck — ultimately resulting in an abandoned project, or shifting the attention to something else.</p><blockquote><em>TLDR: I’ve created a Trello Board Template which I’m using for every single project I’</em></blockquote>]]></description><link>https://blog.endel.me/working-solo-how-to-stay-focused-and-motivated/</link><guid isPermaLink="false">5f63f65736aa7145bcc9ec10</guid><category><![CDATA[Planning]]></category><category><![CDATA[Kanban]]></category><category><![CDATA[Indie]]></category><dc:creator><![CDATA[Endel Dreyer]]></dc:creator><pubDate>Fri, 18 Sep 2020 01:31:59 GMT</pubDate><media:content url="https://blog.endel.me/content/images/2020/09/glenn-carstens-peters-RLw-UC03Gwc-unsplash-1.jpg" medium="image"/><content:encoded><![CDATA[<img src="https://blog.endel.me/content/images/2020/09/glenn-carstens-peters-RLw-UC03Gwc-unsplash-1.jpg" alt="Working Solo: How To Stay Focused and Motivated"><p>This post is for anyone working on a side project, or passion project, and ends up feeling lost or stuck — ultimately resulting in an abandoned project, or shifting the attention to something else.</p><blockquote><em>TLDR: I’ve created a Trello Board Template which I’m using for every single project I’m participating, even if only I’m gonna see it. </em><a href="https://trello.com/b/gcEXQMk2/solo-project-board-%F0%9F%91%A8%F0%9F%92%BB" rel="noopener"><em>Check it out here!</em></a></blockquote><p>The best thing that I’ve started doing a few months from now is having a <a href="https://trello.com/" rel="noopener">Trello</a> board for each and every single project I work on. Even if it’s a 2-week project. It helps me to have realistic expectations for myself.</p><p>I personally tend to underestimate a lot of small tasks and have the feeling I can do a lot of stuff at the same time. When in reality, my attention span is very limited, and there’s a limit on the number of context switches and things I can do.</p><h3 id="it-s-frustrating-">It’s frustrating!</h3><ul><li>It is frustrating when you haven’t done what you think you could or should in one day or a week.</li><li>It is frustrating when you’re looking for your next task and can’t decide between way too many options.</li><li>It is frustrating not knowing how long a task will take.</li><li>It is frustrating not having a plan.</li></ul><p>All of these frustrations are symptoms of poor planning. I’ve become a Trello freak because of them, and probably many more.</p><p>Your Trello board must have an <strong>objective</strong>. The objective will be different for each project. For <a href="http://brawlball.io/" rel="noopener">brawlball.io</a> the objective is simple: to release a playable version!</p><h3 id="planning-my-kanban-template">Planning: <a href="https://trello.com/b/gcEXQMk2/solo-project-board-%F0%9F%91%A8%F0%9F%92%BB">My Kanban Template</a></h3><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.endel.me/content/images/2020/09/Screen-Shot-2020-09-17-at-18.51.35.png" class="kg-image" alt="Working Solo: How To Stay Focused and Motivated" srcset="https://blog.endel.me/content/images/size/w600/2020/09/Screen-Shot-2020-09-17-at-18.51.35.png 600w, https://blog.endel.me/content/images/size/w1000/2020/09/Screen-Shot-2020-09-17-at-18.51.35.png 1000w, https://blog.endel.me/content/images/size/w1600/2020/09/Screen-Shot-2020-09-17-at-18.51.35.png 1600w, https://blog.endel.me/content/images/size/w2400/2020/09/Screen-Shot-2020-09-17-at-18.51.35.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>My Trello board for the development of <a href="http://brawlball.io/">brawlball.io</a></figcaption></figure><p>I recommend using a clean (that won’t distract you) and inspiring image for your background. It gives you some feelings. I can’t explain, It’s good. Lol.</p><p>Here’s a brief summary of what you should place on each column of the template. It is basically a classic Kanban board, though.</p><p><strong>Backlog</strong> — Things you need to do in the future. Only actionable stuff. If it’s not 100% relevant to your objective, don’t even list it. Tasks that depend on other tasks should be kept on the backlog.</p><p><strong>Todo</strong> — List of things you are already capable of starting working, free of dependencies. When your <strong>Doing</strong> column is free, just pick the next one you feel fits best from the list and move to <strong>Doing.</strong></p><p><strong>Doing </strong>— List of things you’re currently working on. Keep this list very short. Ideally just one card. Three at maximum. If you have more than this, make sure to move them either back to <strong>Todo</strong>, or to <strong>Review</strong>.</p><p><strong>Review</strong> — List of things you’ve finished doing, but are not 100% certain it’s really finished. You may move things from <strong>Doing</strong> to <strong>Review</strong> just to be able to pick up a new item from <strong>Todo</strong> and start <strong>Doing</strong> immediately, but don’t want to bother on reviewing yet. You may review a bunch of things altogether in the other day. What is important is that you keep your mind in peace here.</p><p><strong>Done</strong> — All things that passed your <strong>Review</strong> process. Congratulations! You have another item on this list to be proud of!</p><p>Make sure to only work on tasks listed in cards. New cards can be included at any point during the execution of the project. What is important is that you have a clear picture of everything involved in order to reach your objective.</p><p>This way you’re being true to yourself. If the project is delaying — at least you have a big list of items you can look back and can be proud of the progress so far.</p><p>Be kind to yourself. You don’t need to get 200% done in one day. Be slow and steady. Plan things properly, and don’t over-plan it — cards can be a single sentence, without a full description. Only create cards for really actionable stuff your project absolutely needs.</p>]]></content:encoded></item><item><title><![CDATA[How to host your own blog with  Ghost + GitHub Pages]]></title><description><![CDATA[<p>It has been some time since I've been thinking on moving the small amount of posts I have on Medium to somewhere else, without a particular company "owning" the content I create, and restricting who can read my posts or not.</p><p>I did tried <a href="https://ghost.org/">Ghost</a> in 2013 or so, (after</p>]]></description><link>https://blog.endel.me/how-to-host-your-own-blog-with-ghost-github-pages/</link><guid isPermaLink="false">5f133a53ea370c19f5372b7e</guid><category><![CDATA[Blogging]]></category><dc:creator><![CDATA[Endel Dreyer]]></dc:creator><pubDate>Sat, 18 Jul 2020 18:25:12 GMT</pubDate><media:content url="https://blog.endel.me/content/images/2020/07/ghost-1.jpeg" medium="image"/><content:encoded><![CDATA[<img src="https://blog.endel.me/content/images/2020/07/ghost-1.jpeg" alt="How to host your own blog with  Ghost + GitHub Pages"><p>It has been some time since I've been thinking on moving the small amount of posts I have on Medium to somewhere else, without a particular company "owning" the content I create, and restricting who can read my posts or not.</p><p>I did tried <a href="https://ghost.org/">Ghost</a> in 2013 or so, (after using <a href="https://github.com/cloudhead/toto">toto</a> for a while) and was surprised by how easy to setup and deploy my own blog it was. The landscape has completely changed now in 2020 in regards of tooling and alternatives to write a blog in. There are countless <a href="https://www.staticgen.com/">alternatives for static site generators</a>, and they even got a fancy name of <a href="https://jamstack.org/">JAMStack</a>. </p><p>On this post I'm going to guide you on how to configure Ghost locally, and have it deployed manually on GitHub Pages. </p><p>Ghost is a Node.js application that offers you a gorgeous administration panel for managing your pages, tags, posts, etc. It <strong>does not</strong> generate a static site for you out of the box. Here I present you a few tricks to actually generate the static version of the Ghost site, to allow you to deploy on GitHub pages.</p><ol><li><a href="https://github.com/TryGhost/Ghost/#quickstart-install">Follow the Ghost installation instructions</a></li><li>Set-up your blog at localhost:2368/ghost</li></ol><p>Now we're going to use this bash script to generate a "static<strong>/</strong>" directory with the static version of our blog.</p><p>Save the following contents as "<strong>gen_static.sh</strong>":</p><!--kg-card-begin: markdown--><pre><code class="language-bash">#!/bin/bash
# gen_static.sh

# Define urls and https
from_url=https://blog.endel.me
to_url=https://blog.endel.me
to_https=true

# Remove previous build
sudo rm -R static

# Copy blog content
# wget --recursive --no-host-directories --directory-prefix=static --adjust-extension --timeout=30 --no-parent --convert-links ${from_url}/
wget --recursive --no-host-directories --directory-prefix=static --adjust-extension --timeout=30 --no-parent ${from_url}/

# Copy 404 page
wget --no-host-directories --directory-prefix=static --adjust-extension --timeout=30 --no-parent --convert-links --content-on-error --timestamping ${from_url}/404.html

# Copy sitemaps
wget --recursive --no-host-directories --directory-prefix=static --adjust-extension --timeout=30 --no-parent --convert-links ${from_url}/sitemap.xsl
wget --recursive --no-host-directories --directory-prefix=static --adjust-extension --timeout=30 --no-parent --convert-links ${from_url}/sitemap.xml
wget --recursive --no-host-directories --directory-prefix=static --adjust-extension --timeout=30 --no-parent --convert-links ${from_url}/sitemap-pages.xml
wget --recursive --no-host-directories --directory-prefix=static --adjust-extension --timeout=30 --no-parent --convert-links ${from_url}/sitemap-posts.xml
wget --recursive --no-host-directories --directory-prefix=static --adjust-extension --timeout=30 --no-parent --convert-links ${from_url}/sitemap-authors.xml
wget --recursive --no-host-directories --directory-prefix=static --adjust-extension --timeout=30 --no-parent --convert-links ${from_url}/sitemap-tags.xml

# Replace localhost with real domain
if [ &quot;${to_https}&quot; == true ];
  then LC_ALL=C find ./static -type f -not -wholename *.git* -exec sed -i '' -e &quot;s,http://${from_url},https://${to_url},g&quot; {} +;
fi
if [ &quot;${to_https}&quot; == false ];
  then LC_ALL=C find ./static -type f -not -wholename *.git* -exec sed -i '' -e &quot;s,http://${from_url},http://${to_url},g&quot; {} +;
fi

LC_ALL=C find ./static -type f -not -wholename *.git* -exec sed -i '' -e &quot;s,${from_url},${to_url},g&quot; {} +
LC_ALL=C find ./static -type f -not -wholename *.git* -exec sed -i '' -e 's,https://www.gravatar.com,https://www.gravatar.com,g' {} +

# move file.css?v=xxx into file.css, etc
for file in $(find ./static -type f -name &quot;*\?*&quot;); do
  mv $file $(echo &quot;$file&quot; | sed &quot;s/\?.*//&quot;);
  echo &quot;$file -&gt; $(echo &quot;$file&quot; | sed &quot;s/\?.*//&quot;)&quot;
done

# Set up Github Pages CNAME
echo &quot;${to_url}&quot; &gt; static/CNAME
</code></pre>
<!--kg-card-end: markdown--><p>We're going to need another bash script for pushing it to GitHub. You can name it "<strong>upload.sh</strong>":</p><!--kg-card-begin: markdown--><pre><code class="language-bash">#!/bin/bash
# upload.sh

cd static
git init .
git remote add origin git@github.com:endel/blog.git
git checkout -b gh-pages
git add .
git commit -m &quot;update build&quot;
git push origin gh-pages --force
</code></pre>
<!--kg-card-end: markdown--><p>Note that I'm using my own repository and my own blog URL's there. You should replace with your own. You can find the same sources available on the <a href="https://github.com/endel/blog">repository for my blog (this one you're reading) here</a>.</p><p>If you don't want to deal with any of this, of course you can go ahead and pay for the hosting service provided by Ghost.org. </p><p><strong>Similar articles:</strong></p><ul><li><a href="https://fizzy.cc/ghost-static-generator/">Gui - A Ghost Static Site Generator</a></li><li><a href="https://alphacolin.com/migrating-from-jekyll-to-ghost/">Migrating this blog from Jekyll to Ghost</a></li></ul><p>One curious thing I've learned from the first link, is that the <strong>wget</strong> command has tons of functionality like recursively going through pages of a website, and transforming the contents of the downloaded HTML files.</p><p>I hope this have helped you in some way!</p>]]></content:encoded></item><item><title><![CDATA[Colyseus 0.10: Introducing the New State Serialization Algorithm]]></title><description><![CDATA[<p>I’m really excited to announce the release 0.10 of <a href="https://github.com/colyseus/colyseus" rel="noopener">Colyseus</a>. This version basically introduces a more performant state serialization algorithm and a different way of decoding the state in the client-side. It’s currently available for <a href="https://github.com/colyseus/colyseus.js" rel="noopener">JavaScript</a>, <a href="https://github.com/colyseus/colyseus-defold" rel="noopener">Defold Engine</a> and <a href="https://github.com/colyseus/colyseus-unity3d" rel="noopener">Unity3D</a>.</p><p>The new serializer (<a href="https://github.com/colyseus/schema" rel="noopener"><strong>@colyseus/schema</strong></a>) optimizes not</p>]]></description><link>https://blog.endel.me/colyseus-0-10-introducing-the-new-state-serialization-algorithm/</link><guid isPermaLink="false">5f134023ea370c19f5372bf2</guid><category><![CDATA[Colyseus]]></category><dc:creator><![CDATA[Endel Dreyer]]></dc:creator><pubDate>Thu, 28 Mar 2019 18:39:00 GMT</pubDate><media:content url="https://blog.endel.me/content/images/2020/07/colyseus-0.10.x.png" medium="image"/><content:encoded><![CDATA[<img src="https://blog.endel.me/content/images/2020/07/colyseus-0.10.x.png" alt="Colyseus 0.10: Introducing the New State Serialization Algorithm"><p>I’m really excited to announce the release 0.10 of <a href="https://github.com/colyseus/colyseus" rel="noopener">Colyseus</a>. This version basically introduces a more performant state serialization algorithm and a different way of decoding the state in the client-side. It’s currently available for <a href="https://github.com/colyseus/colyseus.js" rel="noopener">JavaScript</a>, <a href="https://github.com/colyseus/colyseus-defold" rel="noopener">Defold Engine</a> and <a href="https://github.com/colyseus/colyseus-unity3d" rel="noopener">Unity3D</a>.</p><p>The new serializer (<a href="https://github.com/colyseus/schema" rel="noopener"><strong>@colyseus/schema</strong></a>) optimizes not only the throughput of your application but also memory and CPU consumption on both server-side and client-side. See the comparison between the number of bytes transferred using previous and new serializer of Colyseus.</p><figure class="kg-card kg-image-card"><img src="https://blog.endel.me/content/images/2020/07/bytes-comparison.png" class="kg-image" alt="Colyseus 0.10: Introducing the New State Serialization Algorithm" srcset="https://blog.endel.me/content/images/size/w600/2020/07/bytes-comparison.png 600w, https://blog.endel.me/content/images/2020/07/bytes-comparison.png 743w" sizes="(min-width: 720px) 720px"></figure><p>This is possible through strictly defining the data types of each property in the state. Only types with the “<strong>@type</strong>” annotation are going to be synchronized. There’s no need to use “<strong>@nosync</strong>” non-synchronizable properties anymore.</p><h2 id="what-was-the-problem-with-the-previous-serializer">What was the problem with the previous serializer?</h2><p>Besides being pretty easy to use, the previous serializer had some disadvantages both when encoding AND decoding large state objects.</p><ul><li>The server needed to take a snapshot of the state at every patch, even if no changes were made — to be able to check if the previous state snapshot differs from the current one. The patch was then broadcasted as a binary diff between them.</li><li>To apply the changes in the client-side, the patches were applied on top of the last snapshot sent by the server — which means the <strong>whole state needed</strong> to be deserialized again, creating a new copy of the state per patch and having a performance penalty if your state was slightly big.</li></ul><p>The good news is that the new serializer solves both of these problems.</p><h2 id="the-new-serializer-server-side">The New Serializer — Server-side</h2><p>In the state definition below, you’ll see a map of Player instances.</p><!--kg-card-begin: markdown--><pre><code class="language-typescript">import { Schema, MapSchema, type } from &quot;@colyseus/schema&quot;;

class Player extends Schema {
    @type(&quot;number&quot;)
    width: number;

    @type(&quot;number&quot;)
    height: number;
}

class MyState extends Schema {
    @type({ map: Player })
    players = new MapSchema&lt;Player&gt;();
}
</code></pre>
<!--kg-card-end: markdown--><p>Now, let’s instantiate the state in our room handler:</p><!--kg-card-begin: markdown--><pre><code class="language-typescript">import { Room } from &quot;colyseus&quot;;
import { MyState } from &quot;./MyState&quot;;
class MyRoom extends Room {
    onInit() {
        this.setState(new MyState());
    }
}
</code></pre>
<!--kg-card-end: markdown--><p>In the client-side, the state is available right after successfully joining the room. You can listen for additions, removals, and changes by registering callbacks directly into your decoded state variables.</p><h2 id="the-new-serializer-client-side-javascript-">The New Serializer — Client-side (JavaScript)</h2><p>The way you listen for a change in the client-side depends on the structure you’re interested in. Variable changes within a container are available through the “<strong>onChange</strong>” callback:</p><!--kg-card-begin: markdown--><pre><code class="language-typescript">var client = new Colyseus.Client(&quot;ws://localhost:2567&quot;);
var room = client.join(&quot;my_room&quot;);
room.onJoin.add(() =&gt; {
    room.state.onChange = (changes) =&gt; {
        changes.forEach(change =&gt; {
            console.log(change.field);
            console.log(change.value);
            console.log(change.previousValue);
        });
    };
})
</code></pre>
<!--kg-card-end: markdown--><p>Additions and removals of entries on Array’s and Map’s are available through “<strong>onAdd</strong>” and “<strong>onRemove</strong>” callbacks in the container variable.</p><!--kg-card-begin: markdown--><pre><code class="language-typescript">room.state.players.onAdd = (player, key) =&gt; {
    console.log(player, &quot;has been added at&quot;, key);
};
room.state.players.onRemove = (player, key) =&gt; {
    console.log(player, &quot;has been removed at&quot;, key);
};
</code></pre>
<!--kg-card-end: markdown--><p>For child entities inside Array’s and Map’s, you may detect changes of either the whole object or particular variables:</p><!--kg-card-begin: markdown--><pre><code class="language-typescript">// callback for a whole object change 
// not possible to know which properties have changed here
room.state.players.onChange = (player, key) =&gt; {
    console.log(player, &quot;has been changed at&quot;, key);
};

// callback for checking particular property changes
// this way you know exactly which properties have changed
room.state.players.onAdd = (player, key) =&gt; {
    player.onChange = function(changes) {
        changes.forEach(change =&gt; {
            console.log(change.field);
            console.log(change.value);
            console.log(change.previousValue);
        });
    }
};
</code></pre>
<!--kg-card-end: markdown--><p><a href="http://docs.colyseus.io/migrating/0.10/" rel="noopener">See the migration guide from version 0.9 to 0.10 here</a>.</p><h2 id="that-s-it-for-0-10">That’s it for 0.10</h2><p>I highly suggest you upgrade to version 0.10, even if you’re not going to use the new serializer yet. The previous serializer is still available and won’t be deprecated any time soon.</p><hr><h2 id="next-challenge-data-filters-work-in-progress-">Next challenge: data filters! (work in progress)</h2><p>I’ve started experimenting to allow filtering the data in the state for each client. The plan is to have different callbacks in the client-side whenever the data becomes available or unavailable.</p><p>The syntax for data filtering will most likely look like the example below — which demonstrates filtering entities by distance.</p><!--kg-card-begin: markdown--><pre><code class="language-typescript">import { Schema, type, filter } from &quot;@colyseus/schema&quot;;

export class State extends Schema {
  @filter(function(this: State, client: any, value: Entity) {
    const currentPlayer = this.entities[client.sessionId]

    var a = value.x - currentPlayer.x;
    var b = value.y - currentPlayer.y;

    return (Math.sqrt(a * a + b * b)) &lt;= 10;

  })
  @type({ map: Entity })
  entities = new MapSchema&lt;Entity&gt;();
}
</code></pre>
<!--kg-card-end: markdown--><hr><h2 id="feedback-is-always-very-welcome-">Feedback is always very welcome!</h2><p>Feel free to join the <a href="https://discord.gg/RY8rRS7" rel="noopener">Discord server</a> if you have any suggestions. If you just want to hang out with us, you’re welcome too!</p>]]></content:encoded></item></channel></rss>
